<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> 页面内滚动布局总结 · gaochen</title><meta name="description" content="页面内滚动布局总结 - gaochen"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600" type="text/css"></head><body><header><a href="/" class="logo-link"><img src="/favicon.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="/about/" target="_self" class="nav-list-link">ABOUT</a></li><li class="nav-list-item"><a href="https://github.com/gaochen" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">页面内滚动布局总结</h1><div class="post-time">Apr 8, 2016</div><div class="post-content"><p>相对于传统的页面来说，“内滚动布局”就是主滚动条在页面内部的布局。一般这种布局多用于管理系统界面。</p>
<p>先上Demo:<a href="http://gaochen.github.io/demo/20160408.html" target="_blank" rel="external">点击这里</a></p>
<p>Demo中的知识点：</p>
<p><strong>1.</strong> 全屏拉伸</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">.page &#123;position: absolute; top: <span class="number">0</span>; right: <span class="number">0</span>; bottom: <span class="number">0</span>; left: <span class="number">0</span>;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//等同于</span></span><br><span class="line">.page &#123;position: absolute; top: <span class="number">0</span>; left: <span class="number">0</span>; width: <span class="number">100</span>%; height: <span class="number">100</span>%;&#125;</span><br></pre></td></tr></table></figure>
<p>在移动端布局中，当页面有一个固定的头部或者底部时，强烈推荐上面这种自适应的布局方法，后面关于移动端布局的文章将会详细讲解。</p>
<a id="more"></a>
<p><strong>2.</strong> 主体内容要在都在content里面，关键在于overflow:auto</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.content &#123;position: absolute; top: <span class="number">62</span>px; right: <span class="number">0</span>; bottom: <span class="number">0</span>; left: <span class="number">200</span>px; overflow: auto;&#125;</span><br></pre></td></tr></table></figure>
<p><strong>3.</strong> :root选择器匹配文档根元素，在HTML中，根元素始终是html元素</p>
<p><strong>4.</strong> IE8及以下兼容RGBA半透明背景色</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">filter:progid:DXImageTransform.Microsoft.Gradient(startColorStr=#AARRGGBB,</span><br><span class="line">endColorStr=i#AARRGGBB)</span><br></pre></td></tr></table></figure>
<p>startColorStr：可选项。字符串(String)。设置或检索色彩渐变的开始颜色和透明度。<br>其格式为 #AARRGGBB 。 AA 、 RR 、 GG 、 BB 为十六进制正整数。取值范围为 00 – FF 。<br>RR指定红色值， GG 指定绿色值， BB 指定蓝色值，参阅 #RRGGBB 颜色单位。 AA 指定透明度。00是完全透明。FF是完全不透明。超出取值范围的值将被恢复为默认值。<br>取值范围为 #FF000000 – #FFFFFFFF 。默认值为 #FF0000FF 。不透明蓝色。</p>
<p>EndColorStr:可选项。字符串(String)。设置或检索色彩渐变的结束颜色和透明度。参阅 startColorStr 属性。默认值为 #FF000000 。不透明黑色。</p>
<p>demo中的代码：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">//实现弹出层内容区超高时可以滚动</span><br><span class="line">&lt;div class="mask"&gt;</span><br><span class="line">    &lt;div class="dialog"&gt;返回请刷新页面&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">//弹出层背景透明</span><br><span class="line">background:rgba(0,0,0,0.5);</span><br><span class="line">filter: progid:DXImageTransform.Microsoft.gradient(startcolorstr=#7F000000,</span><br><span class="line">endcolorstr=#7F000000);</span><br></pre></td></tr></table></figure>
<p><strong>5.</strong> 滚动容器不在是window，而是.content；若实现页面中的表头固定效果，当计算最大滚动高度时，需要把网站头部的高度考虑进去</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">".content"</span>).scroll(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//最大滚动高度值</span></span><br><span class="line"><span class="keyword">var</span> maxScrollTop = $(<span class="string">"#tableHeader"</span>).offset().top - $(<span class="string">".header"</span>).height();</span><br></pre></td></tr></table></figure>
<blockquote>
<p>参考文章：<a href="http://isux.tencent.com/inner-scroll-layout.html" target="_blank" rel="external">http://isux.tencent.com/inner-scroll-layout.html</a></p>
</blockquote>
</div></article></div></section><footer><div class="paginator"><a href="/2016/04/12/20160412/" class="prev">PREV</a><a href="/2016/03/30/20160331/" class="next">NEXT</a></div><div class="copyright"><p>© 2015 - 2016 <a href="http://yoursite.com">gaochen</a>, unless otherwise noted.</p></div></footer><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-65933410-1",'auto');ga('send','pageview');</script><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "//hm.baidu.com/hm.js?a36e15d9e2adec9a21fcdd9f686b1ed2";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"></script></body></html>